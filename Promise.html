<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise测试</title>
</head>
<body>

<!--<script src="./Promise.js"></script>-->
<script src="./Promise-class版本.js"></script>
<script>
    // new Promise((resolve,reject)=>{
    //     // resolve(1);
    //     reject(2);
    // },100).then(
    //     value => {
    //         console.log('onResolved1()', value);
    //     },
    //     reason => {
    //         console.log('onRejected1()', reason);
    //         // return 3
    //         // throw 4
    //         return new Promise((resolve ,reject)=>{
    //             reject(5)
    //         })
    //     },
    // ).then(value => {
    //     console.log('onResolved2()', value);
    // },
    //     reason => {
    //         console.log('onRejected2()', reason);
    //         // throw 6
    //     }
    // ).catch(reason => {
    //     console.log('onRejected3()', reason);
    // })
    //

    const p1 = Promise.resolve(2)//如果是一般值，promise成功，value就是这个值
    const p2 = Promise.resolve(Promise.resolve(3))//如果传参是成功的promise，p2成功 value就是这个promise的value
    const p3 = Promise.resolve(Promise.reject(4))//如果传参是失败的promise，p3失败 reason就是这个promise的reason
    // p1.then(value => {
    //     console.log('p1', value);
    // })
    // p2.then(value => {
    //     console.log('p2', value);
    // })
    // p3.catch(reason => {
    //     console.log('p3', reason);
    // })

    const pAll = Promise.all([p2,7,p1])
    const pRace = Promise.race([p3,p2])
    // pAll.then(
    //     value => {
    //         console.log('race onResolved()', value);
    //     },
    //     reason => {
    //         console.log('race onRejected()', reason);
    //     }
    // )
    // pRace.then(
    //     value => {
    //         console.log('race onResolved()', value);
    //     },
    //     reason => {
    //         console.log('race onRejected()', reason);
    //     }
    // )
    const p6 =Promise.resolveDelay(66,2000)
    const p7 =Promise.rejectDelay(77,3000)
    p6.then(value => {
        console.log('p6',value);
    })
    p7.catch(reason=>{ console.log('p7',reason)})
</script>
</body>
</html>